webpackJsonp([0],{0:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}i(138);var n=i(38),s=o(n),a=i(88),u=o(a),r=i(150),l=o(r),c=i(92),d=o(c),p=i(87),f=o(p);i(139),s.default.use(f.default),new s.default({el:"#app",store:d.default,router:u.default,render:function(e){return e(l.default)}}),console.info("[当前环境] 生产环境"),s.default.config.devtools=!1},45:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=i(93),s=o(n);t.default=s.default||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}},81:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},82:81,83:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(45),s=o(n),a=i(39);t.default={data:function(){return{synopsisType:"show-more",isLoading:!1,videoShow:!1}},computed:(0,s.default)({},(0,a.mapGetters)({movieDetail:"movieDetail"})),methods:{toggleSynopsis:function(){var e=this.synopsisType;this.synopsisType="show-more"===e?"show-less":"show-more"},toggleVideoShow:function(e){console.log(e,222),this.videoShow=e}},created:function(){var e=this,t=this.$route.params.id;this.isLoading=!0,this.$store.dispatch("GET_MOVIE_DETAIL",t).then(function(t){e.isLoading=!1})}}},84:81,85:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(45),s=o(n),a=i(39);t.default={computed:(0,s.default)({},(0,a.mapGetters)({nowPlayingList:"nowPlayingList",willPlayList:"willPlayList"}),{movieList:function(){return this[this.menuType]}}),data:function(){return{menuType:"nowPlayingList",catetogyList:[{name:"正在热映",type:"nowPlayingList"},{name:"即将上映",type:"willPlayList"}],isLoading:!1}},methods:{getMovieList:function(e){var t=this.menuType,i=this.isLoading;return t!==e&&!i&&(this.menuType=e,this.getListData(e))},getListData:function(e){var t=this;this.isLoading=!0,this.$store.dispatch("GET_MOVIE_LIST",{type:e}).then(function(){t.isLoading=!1})},showDetail:function(e){var t=e.split("/")[4];this.$router.push({name:"dou-ban-movie-detail",params:{id:t}})}},created:function(){document.title="Movie Spider";var e=this.menuType,t=this.getListData;t(e)}}},86:81,87:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Loading=void 0;var n=i(151),s=o(n),a={install:function(e){e.component("spider-loading",s.default)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(a),t.default=a,t.Loading=s.default},88:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(38),s=o(n),a=i(157),u=o(a),r=i(89),l=o(r);s.default.use(u.default);var c=new u.default({suppressTransitionError:!0,routes:l.default});t.default=c},89:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{path:"/",component:function(e){i.e(0,function(t){var i=[t(156)];e.apply(null,i)}.bind(this))},redirect:function(e){return{name:"dou-ban-movie"}},children:[{path:"/app-list",name:"app-list",component:function(e){i.e(0,function(t){var i=[t(152)];e.apply(null,i)}.bind(this))}},{path:"/dou-ban-movie",name:"dou-ban-movie",component:function(e){i.e(0,function(t){var i=[t(154)];e.apply(null,i)}.bind(this))},redirect:function(e){return{name:"dou-ban-movie-list"}},children:[{path:"/dou-ban-movie/list",name:"dou-ban-movie-list",component:function(e){i.e(0,function(t){var i=[t(155)];e.apply(null,i)}.bind(this))}},{path:"/dou-ban-movie/detail/:id",name:"dou-ban-movie-detail",component:function(e){i.e(0,function(t){var i=[t(153)];e.apply(null,i)}.bind(this))}}]}]}]},90:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(95),s=o(n),a=i(94),u=o(a),r=i(98),l=o(r),c=i(63),d=o(c),p="/spider-api";d.default.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var f=function(e){var t=e.method,i=void 0===t?"get":t,o=e.url,n=e.body,a=void 0===n?null:n,r=function(e){var t="",i="object"===("undefined"==typeof e?"undefined":(0,l.default)(e))?e:{};return(0,u.default)(i||{}).forEach(function(e,o){t+=(0===o?"?":"&")+e+"="+i[e]}),t},c=new s.default(function(e,t){var n=p+o+("get"===i?r(a):"");(0,d.default)({method:i,url:n,data:a}).then(function(i){var o=i.data;if(o.result){var n=o.errorInfo||"处理错误";return t(n)}e(o.data||{})}).catch(function(){t("请求失败")})});return c};t.default=f},91:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(90),s=o(n),a={nowPlayingList:[],willPlayList:[],movieDetail:{}},u={nowPlayingList:function(e){return e.nowPlayingList},willPlayList:function(e){return e.willPlayList},movieDetail:function(e){return e.movieDetail}},r={GET_MOVIE_LIST:function(e){var t=e.commit,i=(e.state,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return(0,s.default)({url:"/movieList/list",body:i}).then(function(e){return t("GET_MOVIE_LIST_SUCCESS",{data:e,type:i.type})},function(e){return t("GET_MOVIE_LIST_FAILURE",{err:e,type:i.type})})},GET_MOVIE_DETAIL:function(e,t){var i=e.commit;e.state;return i("GET_MOVIE_DETAIL_FAILURE",{err:""}),(0,s.default)({url:"/movieList/detail",body:{id:t}}).then(function(e){return i("GET_MOVIE_DETAIL_SUCCESS",{data:e})},function(e){return i("GET_MOVIE_DETAIL_FAILURE",{err:e})})}},l={GET_MOVIE_LIST_SUCCESS:function(e,t){var i=t.data,o=t.type;e[o]=i},GET_MOVIE_LIST_FAILURE:function(e,t){var i=(t.err,t.type);e[i]=[]},GET_MOVIE_DETAIL_SUCCESS:function(e,t){var i=t.data;e.movieDetail=i},GET_MOVIE_DETAIL_FAILURE:function(e,t){t.err;e.movieDetail={}}};t.default={state:a,getters:u,actions:r,mutations:l}},92:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(38),s=o(n),a=i(39),u=o(a),r=i(91),l=o(r);s.default.use(u.default);var c=!1,d={},p={};t.default=new u.default.Store({actions:p,getters:d,modules:{doubanMovie:l.default},strict:c})},93:function(e,t,i){e.exports={default:i(99),__esModule:!0}},99:function(e,t,i){i(130),e.exports=i(4).Object.assign},118:function(e,t,i){"use strict";var o=i(16),n=i(29),s=i(20),a=i(33),u=i(49),r=Object.assign;e.exports=!r||i(12)(function(){var e={},t={},i=Symbol(),o="abcdefghijklmnopqrst";return e[i]=7,o.split("").forEach(function(e){t[e]=e}),7!=r({},e)[i]||Object.keys(r({},t)).join("")!=o})?function(e,t){for(var i=a(e),r=arguments.length,l=1,c=n.f,d=s.f;r>l;)for(var p,f=u(arguments[l++]),v=c?o(f).concat(c(f)):o(f),m=v.length,y=0;m>y;)d.call(f,p=v[y++])&&(i[p]=f[p]);return i}:r},130:function(e,t,i){var o=i(7);o(o.S+o.F,"Object",{assign:i(118)})},139:function(e,t){},143:function(e,t){e.exports=" <router-view transition=fade transition-mode=out-in></router-view> "},144:function(e,t){e.exports=' <div class=loading-section> <div class=sk-folding-cube> <div class="sk-cube1 sk-cube"></div> <div class="sk-cube2 sk-cube"></div> <div class="sk-cube4 sk-cube"></div> <div class="sk-cube3 sk-cube"></div> </div> </div> '},145:function(e,t){e.exports=" <p>1231231</p> "},146:function(e,t){e.exports=" <div class=\"page-section movie-detail-page\"> <div class=movie-preview-section> <div class=movie-subject v-show=!videoShow> <img :src=movieDetail.imageLink class=movie-img v-show=movieDetail.imageLink> <div class=movie-msg v-show=movieDetail.imageLink> <h1 class=txt-ellipsis>{{ movieDetail.name }}</h1> <span class=txt-ellipsis>类型：{{ movieDetail.movieType }}</span> <span class=txt-ellipsis>时长：{{ movieDetail.runTime || '-' }}分钟</span> <span class=txt-ellipsis>上映时间：{{ movieDetail.releaseDate || '-' }}</span> <span class=txt-ellipsis>评分：{{ movieDetail.score || '-' }}</span> <span @click=toggleVideoShow(true)>宣传片（戳我！）</span> </div> </div> <div class=video-section v-show=videoShow> <span class=close-video @click=toggleVideoShow(false)>+</span> <video v-if=movieDetail.videoLink :src=\"`http://2017017.xyz/spider-api/movieList/get-movie-stream.mp4?link=${movieDetail.videoLink}`\" controls=controls class=video></video> </div> </div> <div class=movie-synopsis :style=\"{ maxHeight: synopsisType === 'show-more' ? '6.9rem' : '100rem' }\" v-show=movieDetail.synopsis> <p class=synopsis-title>剧情简介：</p> <span class=content>{{ movieDetail.synopsis }}</span> </div> <div class=icon-chevron-thin-up :class=synopsisType v-show=movieDetail.synopsis @click=toggleSynopsis></div> <ul class=movie-moment v-show=movieDetail.moment> <li class=moment-title>热门评论：</li> <li v-for=\"(item, index) in movieDetail.moment\" :key=index class=moment-item> <p class=user>{{ item.user }}</p> <p class=content>{{ item.content }}</p> </li> </ul> <spider-loading v-show=isLoading></spider-loading> </div> "},147:143,148:function(e,t){e.exports=' <div class=page-section> <ul class=movie-list> <li v-for="(item, index) in movieList" :key=index class=movie-item @click=showDetail(item.link)> <div class=movie-star v-show="menuType === \'nowPlayingList\'"> <span class=score>{{ item.score || \'0.0\' }}</span> </div> <img :src=item.image :alt=item.name class=movie-image /> <span class="movie-name txt-ellipsis">{{ item.name }}</span> </li> </ul> <ul class=bottom-tab> <li v-for="(item, index) in catetogyList" :key=index class=category-select :class="{ active: menuType === item.type }" @click=getMovieList(item.type)>{{ item.name }}</li> </ul> <spider-loading v-show=isLoading></spider-loading> </div> '},149:143,150:function(e,t,i){var o,n,s={};o=i(81),n=i(143),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(a.template=n),a.computed||(a.computed={}),Object.keys(s).forEach(function(e){var t=s[e];a.computed[e]=function(){return t}})},151:function(e,t,i){var o,n,s={};n=i(144),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(a.template=n),a.computed||(a.computed={}),Object.keys(s).forEach(function(e){var t=s[e];a.computed[e]=function(){return t}})},152:[158,82,145],153:function(e,t,i){var o,n,s={};o=i(83),n=i(146),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(a.template=n),a.computed||(a.computed={}),Object.keys(s).forEach(function(e){var t=s[e];a.computed[e]=function(){return t}})},154:[158,84,147],155:function(e,t,i){var o,n,s={};o=i(85),n=i(148),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(a.template=n),a.computed||(a.computed={}),Object.keys(s).forEach(function(e){var t=s[e];a.computed[e]=function(){return t}})},156:function(e,t,i){var o,n,s={};o=i(86),n=i(149),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(a.template=n),a.computed||(a.computed={}),Object.keys(s).forEach(function(e){var t=s[e];a.computed[e]=function(){return t}})},158:function(e,t,i,o,n){var s,a,u={};s=i(o),a=i(n),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(u).forEach(function(e){var t=u[e];r.computed[e]=function(){return t}})}});